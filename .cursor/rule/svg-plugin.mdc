# SVG Plugin Implementation

## ğŸ“‹ ìš”êµ¬ì‚¬í•­ íˆìŠ¤í† ë¦¬

### ì´ˆê¸° ìš”êµ¬ì‚¬í•­
> "plugins svgë¥¼ ì¶”ê°€í• ê±°ì•¼. ì„ íƒí•˜ë©´ imgì™€ ë™ì¼í•œ ìƒ‰ìƒìœ¼ë¡œ ì„ íƒí•  ìˆ˜ ìˆê²Œ í•´ì£¼ê³  ì„ íƒ ë˜ì–´ ìˆëŠ” ìƒíƒœì—ì„œ í´ë¦­ì‹œ ë¯¸ë¦¬ ë§Œë“¤ì–´ì§„ ìƒ˜í”Œ ì¤‘ì—ì„œ ì„ íƒì„ í•˜ê±°ë‚˜ svgë¥¼ ì§ì ‘ ì…ë ¥í•  ìˆ˜ ìˆê±°ë‚˜ í•˜ëŠ” ì‹ì˜ ê¸°ëŠ¥ì„ ì¶”ê°€í•´ì¤˜"

### êµ¬í˜„ ë°©í–¥ ìˆ˜ì •
> "ì˜ë„ê°€ ë„ˆë¬´ ì˜ëª»ë˜ì—ˆëŠ”ë° ì–´ë–»ê²Œ êµ¬í˜„í–ˆëŠ”ì§€ ì„¤ëª…í•´ë´."

**ë¬¸ì œì **: ì²˜ìŒì— ë³µì¡í•œ Modal ê¸°ë°˜ UIë¥¼ êµ¬í˜„
**í•´ê²°ì±…**: Builder.io ìŠ¤íƒ€ì¼ì˜ ë¯¸ë‹ˆë©€í•œ ì„ íƒ ê¸°ë°˜ ì›Œí¬í”Œë¡œìš°ë¡œ ë³€ê²½

## ğŸ¯ ìµœì¢… êµ¬í˜„ ë°©í–¥

### ì„ íƒ ê¸°ë°˜ í¸ì§‘ ì›Œí¬í”Œë¡œìš°
1. **ì²« ë²ˆì§¸ í´ë¦­**: SVG ìš”ì†Œ ì„ íƒ (amber ì˜¤ë²„ë ˆì´ í‘œì‹œ)
2. **ë‘ ë²ˆì§¸ í´ë¦­**: í¸ì§‘ íŒì˜¤ë²„ ì—´ê¸°
3. **í¸ì§‘**: ìƒ˜í”Œ ì„ íƒ ë˜ëŠ” ì»¤ìŠ¤í…€ ì½”ë“œ ì…ë ¥
4. **ì ìš©**: ì¦‰ì‹œ ë°˜ì˜ë˜ê³  íŒì˜¤ë²„ ë‹«ê¸°

### ì´ë¯¸ì§€ì™€ ë™ì¼í•œ ì²˜ë¦¬
- **ì„ íƒ ìƒ‰ìƒ**: `#f59e0b` (amber) - ì´ë¯¸ì§€ì™€ ë™ì¼
- **ì¸ë¼ì¸ ìš”ì†Œ**: `elementType: "inline"`ë¡œ ê·¸ë£¹ ì„ íƒ ì§€ì›
- **í¸ì§‘ íŒ¨í„´**: ì„ íƒ â†’ í´ë¦­ â†’ í¸ì§‘ (ì´ë¯¸ì§€ ì—…ë¡œë“œì™€ ë™ì¼í•œ íŒ¨í„´)

## ğŸ¨ UI ë””ìì¸ ì§„í™”

### 1ì°¨ ì‹œë„: Dialog ê¸°ë°˜ (âŒ ê±°ë¶€ë¨)
```tsx
// ë³µì¡í•œ Modal UI - Builder.io ì² í•™ì— ë§ì§€ ì•ŠìŒ
<Dialog>
  <DialogTrigger>
    <div onClick={handleClick}>...</div>
  </DialogTrigger>
  <DialogContent className="max-w-2xl">
    <Tabs>...</Tabs>
  </DialogContent>
</Dialog>
```

### 2ì°¨ ê°œì„ : Popover ê¸°ë°˜ (âœ… ì±„íƒ)
```tsx
// ë¯¸ë‹ˆë©€í•œ Popover UI
<Popover>
  <PopoverContent 
    className="w-60 max-h-80"
    side="top"
    align="center"
    style={{ backgroundColor: 'white' }}
  >
    <Tabs defaultValue="samples">...</Tabs>
  </PopoverContent>
</Popover>
```

### ìµœì¢… ìš”êµ¬ì‚¬í•­
> "ê°€ìš´ë° ì–´ë‘ìš´ ë°°ê²½ì˜ ì˜¤ë²„ë ˆì´ ì „í™˜ ë§ê³  ì¡°ê¸ˆë” íŒì˜¤ë²„+ ë“œë¡­ë‹¤ìš´ ê°™ì€ í˜•ì‹ìœ¼ë¡œ ë§Œë“¤ì–´ì¤˜"
> "ë°°ê²½ì„ dimmedë¥¼ ê¹”ì§€ ë§ê³  íŒì—…ì—ëŠ” í° ë°°ê²½ì„ ê¹”ì•„ì¤˜"
> "ìœ„ì¹˜ì— ë§ê²Œ ìƒë‹¨ ì¤‘ì•™ì— ë„ìš°ë ¤ê³  í•´ì¤˜"

## ğŸ› ï¸ ê¸°ìˆ  êµ¬í˜„

### SVG Plugin êµ¬ì¡°
```typescript
export const svgPlugin: Plugin = {
  name: "svg",
  version: "1.0.0",
  description: "Handles SVG elements with sample selection and custom input",

  selectable: {
    enabled: true,
    name: "SVG",
    color: "#f59e0b", // amber - same as image
    description: "SVG with customizable content",
    level: "element",
    elementType: "inline",
  },

  match: (element: Element) => {
    return element.tagName.toLowerCase() === "svg";
  },

  parse: (element: Element) => {
    // SVG ìš”ì†Œ íŒŒì‹± ë¡œì§
  },

  render: ({ parsedElement }) => {
    // EditableSvg ì»´í¬ë„ŒíŠ¸ ë Œë”ë§
  },
};
```

### ì„ íƒ ìƒíƒœ ê¸°ë°˜ UI
```typescript
const EditableSvg: React.FC<EditableSvgProps> = ({ elementId, ... }) => {
  const selection = useEditorStore((state) => state.selection);
  const isSelected = selection.selectedElementId === elementId;

  const handleClick = (e: React.MouseEvent) => {
    if (!isSelected) {
      // ì„ íƒë˜ì§€ ì•Šì€ ìƒíƒœ: ì„ íƒ ì‹œìŠ¤í…œì— ìœ„ì„
      return;
    }
    
    // ì„ íƒëœ ìƒíƒœ: í¸ì§‘ íŒì˜¤ë²„ ì—´ê¸°
    e.stopPropagation();
    setOpen(true);
  };
};
```

## ğŸ“¦ shadcn/ui í†µí•©

### í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ ì„¤ì¹˜
```bash
npx shadcn@latest add popover
npx shadcn@latest add tabs
npx shadcn@latest add textarea
npx shadcn@latest add button
```

### ìˆ˜ë™ ìƒì„±í•œ ì»´í¬ë„ŒíŠ¸
```typescript
// src/components/ui/popover.tsx
import * as PopoverPrimitive from "@radix-ui/react-popover"
```

## ğŸ¨ ë¯¸ë‹ˆë©€ UI íŠ¹ì§•

### Ultra-Compact ë””ìì¸
- **í¬ê¸°**: 240px Ã— 320px (w-60 Ã— max-h-80)
- **ìœ„ì¹˜**: ìƒë‹¨ ì¤‘ì•™ (side="top", align="center")
- **ë°°ê²½**: ìˆœìˆ˜ í°ìƒ‰ (`bg-white` + `style={{ backgroundColor: 'white' }}`)

### ìƒ˜í”Œ ê·¸ë¦¬ë“œ
```typescript
const SVG_SAMPLES = [
  { name: "Heart", content: "<svg>...</svg>" },
  { name: "Star", content: "<svg>...</svg>" },
  { name: "Check Circle", content: "<svg>...</svg>" },
  { name: "Arrow Right", content: "<svg>...</svg>" },
  { name: "Plus Circle", content: "<svg>...</svg>" },
  { name: "Info", content: "<svg>...</svg>" }
];
```

- **ë ˆì´ì•„ì›ƒ**: 3Ã—2 ê·¸ë¦¬ë“œ (grid-cols-3)
- **ì•„ì´ì½˜ í¬ê¸°**: 6Ã—6px (w-6 h-6)
- **ì¦‰ì‹œ ì ìš©**: í´ë¦­í•˜ë©´ ë°”ë¡œ ì ìš©ë˜ê³  íŒì˜¤ë²„ ë‹«ê¸°

### ì»¤ìŠ¤í…€ ì½”ë“œ ì…ë ¥
- **í…ìŠ¤íŠ¸ ì˜ì—­**: 16px ë†’ì´ (h-16)
- **ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°**: 8Ã—8px ì•„ì´ì½˜ìœ¼ë¡œ ì¦‰ì‹œ í™•ì¸
- **í°íŠ¸**: `font-mono text-xs` ì½”ë“œ ì…ë ¥ì— ìµœì í™”

## ğŸ› í•´ê²°ëœ ë²„ê·¸ë“¤

### 1. Popover ì»´í¬ë„ŒíŠ¸ ëˆ„ë½
**ë¬¸ì œ**: `Failed to resolve import "@/components/ui/popover"`
**í•´ê²°**: ìˆ˜ë™ìœ¼ë¡œ popover.tsx ìƒì„± ë° dependencies ì„¤ì¹˜

### 2. íƒ­ ì „í™˜ ì‹œ íŒì—… ë‹«í˜
**ë¬¸ì œ**: Code íƒ­ í´ë¦­ ì‹œ íŒì˜¤ë²„ê°€ ë‹«í˜€ë²„ë¦¼
**í•´ê²°**: Radix UI íƒ­ ìš”ì†Œë“¤ì„ ì™¸ë¶€ í´ë¦­ ê°ì§€ì—ì„œ ì œì™¸

```typescript
onInteractOutside={(e) => {
  const target = e.target as Element;
  if (
    target.closest('[data-radix-tabs-trigger]') ||
    target.closest('[data-radix-tabs-list]') ||
    target.closest('[data-radix-tabs-content]')
  ) {
    e.preventDefault();
    return;
  }
  setOpen(false);
}}
```

### 3. ìœ„ì¹˜ ì •ë ¬ ë¬¸ì œ
**ë¬¸ì œ**: íŒì˜¤ë²„ê°€ ì›í•˜ëŠ” ìœ„ì¹˜ì— ë‚˜íƒ€ë‚˜ì§€ ì•ŠìŒ
**í•´ê²°**: `side="top"`, `align="center"`, `sideOffset={8}` ì„¤ì •

## ğŸ¯ ì‚¬ìš©ì ê²½í—˜

### Floating Edit Button
ì„ íƒëœ ìƒíƒœì—ì„œ hover ì‹œ ë‚˜íƒ€ë‚˜ëŠ” í¸ì§‘ ë²„íŠ¼:

```tsx
{/* Floating edit button */}
{svgContent && isSelected && (
  <div className="absolute -top-8 left-0 opacity-0 group-hover:opacity-100">
    <div className="bg-white border shadow-lg px-3 py-1.5 flex items-center gap-2">
      <Edit3 className="w-4 h-4 text-gray-600" />
      <span className="text-gray-700 font-medium">Edit SVG</span>
    </div>
  </div>
)}
```

### Modal-like ì™¸ë¶€ í´ë¦­ ì²˜ë¦¬
- **íˆ¬ëª… ë°°ê²½**: dimmed overlay ì—†ìŒ
- **ì™¸ë¶€ í´ë¦­**: íŒì˜¤ë²„ ë‹«ê¸°
- **ESC í‚¤**: íŒì˜¤ë²„ ë‹«ê¸°
- **ë‚´ë¶€ í´ë¦­**: íŒì˜¤ë²„ ìœ ì§€

## ğŸ“Š ì„±ëŠ¥ ìµœì í™”

### ìƒíƒœ ê´€ë¦¬
```typescript
const [open, setOpen] = useState(false);
const [customSvg, setCustomSvg] = useState(svgContent);
```

### ì´ë²¤íŠ¸ ìµœì í™”
- **stopPropagation**: ì„ íƒëœ ìƒíƒœì—ì„œë§Œ íŒì˜¤ë²„ ì—´ê¸°
- **preventDefault**: ë¶ˆí•„ìš”í•œ ê¸°ë³¸ ë™ì‘ ë°©ì§€
- **ì¡°ê±´ë¶€ ë Œë”ë§**: ì„ íƒëœ ìƒíƒœì—ì„œë§Œ í¸ì§‘ ë„êµ¬ í‘œì‹œ

## ğŸš€ í–¥í›„ ê°œì„  ê³„íš

### ê¸°ëŠ¥ í™•ì¥
- [ ] SVG ìƒ‰ìƒ ë³€ê²½ ë„êµ¬
- [ ] SVG í¬ê¸° ì¡°ì ˆ í•¸ë“¤
- [ ] ë” ë§ì€ í”„ë¦¬ì…‹ ìƒ˜í”Œ

### UX ê°œì„ 
- [ ] ë“œë˜ê·¸ ì•¤ ë“œë¡­ìœ¼ë¡œ SVG ì—…ë¡œë“œ
- [ ] SVG ì• ë‹ˆë©”ì´ì…˜ ì§€ì›
- [ ] ë²¡í„° í¸ì§‘ ë„êµ¬ í†µí•©